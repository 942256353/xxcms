import{F as f,r as w,a8 as S,_ as M,$ as C,u as i,o as n,c as u,a as o,P as v,ae as g,S as p,R as b,V as k,W as y,M as $,h as V,b as d,T as I,b6 as A,b4 as L,a0 as P}from"./@vue-2b4cd1a6.js";import{r as x,R as B,b as j}from"./index-ba33d66b.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{d as W}from"./pinia-aad22ebe.js";import{A as q,O as T,F as U,M as G,d as J,e as K}from"./@icon-park-0de560ca.js";import{_ as Q}from"./userAvatarMenu.vue_vue_type_script_setup_true_lang-7721000b.js";/* empty css                    */import"./vue-router-f57cd58c.js";import"./@vueuse-b062602b.js";import"./element-plus-b263d37b.js";import"./lodash-es-b0faf9a4.js";import"./async-validator-dee29e8b.js";import"./@element-plus-c5e9c587.js";import"./dayjs-ddc12617.js";import"./@kangc-c2a2341a.js";import"./vue-68db48eb.js";import"./normalize-wheel-es-4ed993c7.js";import"./@sxzz-c75af06c.js";import"./@ctrl-384ef2e5.js";import"./axios-aba6f0e0.js";import"./prismjs-b3e294df.js";import"./highlight.js-42a3adc5.js";import"./vee-validate-60af52d7.js";import"./@vee-validate-1fd1bc20.js";import"./yup-0079fcd3.js";import"./property-expr-38205fa5.js";import"./tiny-case-d0726479.js";import"./toposort-59d3f8f4.js";import"./vue-demi-71ba0ef2.js";const X={class:"p-2 px-5 border-t border-b bg-gray-50 shadow-sm relative overflow-auto h-[50px]"},Y={class:"overflow-x-auto whitespace-pre absolute flex gap-2"},Z=f({__name:"historyMenu",setup(c){const t=w([]);return x.beforeResolve(async s=>{var m,r;Object.keys(s.query).length>0||Object.keys(s.params).length>0||!((m=s.meta.menu)!=null&&m.title)||t.value.find(e=>e.name==s.name)||s.fullPath.startsWith("/admin")&&(t.value.length>10&&t.value.splice(0,10),t.value.unshift({name:s.name,title:(r=s.meta.menu)==null?void 0:r.title}))}),(s,m)=>{const r=S("router-link");return M((n(),u("div",X,[o("div",Y,[(n(!0),u(v,null,g(i(t),(e,a)=>(n(),p(r,{key:a,to:{name:e.name},class:$(["border inline-flex items-center hover:bg-teal-600 hover:text-white duration-300 rounded-md shadow-sm py-2 px-3 text-xs",{"action-bg ":s.$route.name==e.name}])},{default:b(()=>[k(y(e.title),1)]),_:2},1032,["to","class"]))),128))])],512)),[[C,i(t).length]])}}});const ee=D(Z,[["__scopeId","data-v-8d6700ac"]]),H=W("adminMenu",()=>{const c=w(!0);return{menuState:c,toggleMenu:()=>{c.value=!c.value}}}),te={class:"admin-menu"},ne={class:"logo cursor-pointer"},se={class:"container"},oe={class:"text-md"},re=["onClick"],ae=o("div",{class:"bg block md:hidden"},null,-1),ie=f({__name:"leftMenu",setup(c){const{open:t}=j(),s=x.getRoutes().filter(e=>e.children.length).filter(e=>e.meta.menu).sort((e,a)=>{var l,_;return(((l=a.meta.menu)==null?void 0:l.order)??0)-(((_=e.meta.menu)==null?void 0:_.order)??0)}),m=H();V(()=>{document.documentElement.addEventListener("click",e=>{document.documentElement.clientWidth<640&&(m.menuState=!1)})});const r=e=>{var a,l;(l=(a=e.meta)==null?void 0:a.menu)!=null&&l.blank?t(e,"_blank"):x.push(e)};return(e,a)=>(n(),u("div",te,[o("div",{class:$(["menu",{hidden:!i(m).menuState}])},[o("div",ne,[d(i(q),{theme:"outline",size:"18",fill:"#dcdcdc",class:"mr-2",onClick:a[0]||(a[0]=l=>e.$router.push({name:("RouteEnum"in e?e.RouteEnum:i(B)).HOME}))}),o("span",{class:"text-md cursor-pointer",onClick:a[1]||(a[1]=l=>e.$router.push({name:("RouteEnum"in e?e.RouteEnum:i(B)).ADMIN}))},"晚八点直播")]),o("div",se,[(n(!0),u(v,null,g(i(s),(l,_)=>{var E,R;return n(),u("dl",{key:_},[o("dt",null,[o("section",null,[(n(),p(I((E=l.meta.menu)==null?void 0:E.icon),{size:"15",fill:"#dcdcdc",class:"mr-2"})),o("span",oe,y((R=l.meta.menu)==null?void 0:R.title),1)])]),o("dd",null,[(n(!0),u(v,null,g(l.children,(h,N)=>{var z,F,O;return M((n(),u("div",{key:N,onClick:$e=>r(h),class:$({active:e.$route.name==h.name})},y((F=(z=h.meta)==null?void 0:z.menu)==null?void 0:F.title),11,re)),[[C,(O=h.meta)==null?void 0:O.menu]])}),128))])])}),128))])],2),ae]))}});const le={class:"flex items-center cursor-pointer text-[#574b90] opacity-90"},ce=f({__name:"fullScreen",setup(c){const t=w(!1),s=()=>{t.value?document.exitFullscreen():document.documentElement.requestFullscreen(),t.value=!t.value};return document.addEventListener("fullscreenchange",m=>{t.value=Boolean(document.fullscreenElement)}),(m,r)=>(n(),u("div",le,[t.value?(n(),p(i(T),{key:0,theme:"outline",size:"20",onClick:s})):(n(),p(i(U),{key:1,theme:"outline",size:"20",onClick:s}))]))}}),ue=c=>(A("data-v-11d209ea"),c=c(),L(),c),me={class:""},de={class:"flex items-center"},_e=ue(()=>o("i",{class:"py-2 box-border opacity-80"},"/",-1)),pe=f({__name:"breadcrumb",setup(c){const t=x.currentRoute;return(s,m)=>{var e;const r=S("router-link");return n(),u("main",me,[o("div",de,[d(r,{to:{name:"home"}},{default:b(()=>[k("首页")]),_:1}),(n(!0),u(v,null,g((e=i(t))==null?void 0:e.matched,(a,l)=>M((n(),u("div",{class:"flex items-center",key:l},[_e,d(r,{to:{path:a.path}},{default:b(()=>[k(y(a.meta.title),1)]),_:2},1032,["to"])])),[[C,a.meta.title]])),128))])])}}});const fe=D(pe,[["__scopeId","data-v-11d209ea"]]),he={class:"bg-white relative shadow-sm z-50 p-2 border-b-1 px-5 flex justify-between items-center"},ve={class:"flex items-center"},ge={class:"flex justify-center gap-2 items-center relative cursor-pointer"},be=f({__name:"navbar",setup(c){const t=H(),{open:s}=j();return(m,r)=>{const e=fe,a=K,l=ce;return n(),u("div",he,[o("div",ve,[o("div",{class:"mr-2",onClick:r[0]||(r[0]=P((..._)=>i(t).toggleMenu&&i(t).toggleMenu(..._),["stop"]))},[i(t).menuState?(n(),p(i(G),{key:0,theme:"filled",size:"24",fill:"#10ad57",class:"cursor-pointer duration-300"})):(n(),p(i(J),{key:1,theme:"filled",size:"26",fill:"#10ad57",class:"cursor-pointer duration-300"}))]),d(e,{class:"hidden md:block"})]),o("div",ge,[d(a,{theme:"outline",size:"22",class:"cursor-pointer text-gray-700 hover:text-gray-500",onClick:r[1]||(r[1]=_=>i(s)("/member"))}),d(l,{class:"hidden 2xl:flex text-gray-600"}),d(Q)])])}}}),ye={class:"admin h-screen w-screen grid md:grid-cols-[auto_1fr]"},xe={class:"content bg-gray-100 grid grid-rows-[auto_1fr] overflow-hidden"},ke={class:"overflow-y-auto pb-32"},Ze=f({__name:"index",setup(c){return(t,s)=>{const m=S("router-view");return n(),u("main",ye,[d(ie),o("section",xe,[o("div",null,[d(be),d(ee)]),o("div",ke,[d(m,null,{default:b(({Component:r,route:e})=>[(n(),p(I(r),{class:"m-5",key:e.fullPath}))]),_:1})])])])}}});export{Ze as default};
