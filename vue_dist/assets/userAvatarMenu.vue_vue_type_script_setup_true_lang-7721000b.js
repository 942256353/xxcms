import{n as w,o as E,p as k,q as v}from"./element-plus-b263d37b.js";import{u as R,c as y,d as b,R as p}from"./index-ba33d66b.js";import{d as N}from"./dayjs-ddc12617.js";import{F as C,a8 as I,o as n,c as d,u as e,b as o,R as t,P as B,ae as D,V as a,a as i,W as m,S}from"./@vue-2b4cd1a6.js";const V={class:"flex items-center"},M={key:0,class:"flex items-center"},A={class:"el-dropdown-link flex items-center"},F={class:"flex flex-col text-xs ml-2 text-gray-600 font-light"},G={key:1,class:"flex items-stretch gap-2"},P=C({__name:"userAvatarMenu",setup(L){const{logout:f}=R(),r=y();return(l,T)=>{const h=w,u=I("router-link"),_=E,g=k,x=v;return n(),d("main",V,[e(r).user?(n(),d("section",M,[o(x,{trigger:"click"},{dropdown:t(()=>[o(g,null,{default:t(()=>[(n(!0),d(B,null,D(e(b).user.avatarMenu,(s,c)=>(n(),S(_,{key:c},{default:t(()=>[o(u,{to:{name:s.routeName}},{default:t(()=>[a(m(s.title),1)]),_:2},1032,["to"])]),_:2},1024))),128)),o(_,{divided:"",onClick:e(f)},{default:t(()=>[a("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:t(()=>{var s,c;return[i("span",A,[o(h,{src:e(r).user.avatar,fit:"cover",class:"w-7 h-7 rounded-sm"},null,8,["src"]),i("div",F,[a(m((s=e(r).user)==null?void 0:s.name)+" ",1),i("span",null,m(e(N)((c=e(r).user)==null?void 0:c.created_at).fromNow())+"注册 ",1)])])]}),_:1})])):(n(),d("section",G,[o(u,{to:{name:("RouteEnum"in l?l.RouteEnum:e(p)).LOGIN},class:"px-3 py-1 flex text-sm items-center border shadow-sm rounded-md bg-slate-100 hover:bg-indigo-500 hover:!text-white duration-300"},{default:t(()=>[a(" 登录 ")]),_:1},8,["to"]),o(u,{to:{name:("RouteEnum"in l?l.RouteEnum:e(p)).REGISTER},class:"px-3 py-1 flex text-sm items-center border shadow-sm rounded-md bg-slate-100 hover:bg-indigo-500 hover:!text-white duration-300"},{default:t(()=>[a(" 注册 ")]),_:1},8,["to"])]))])}}});export{P as _};
