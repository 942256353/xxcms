import{h as a,c as l}from"./index-ba33d66b.js";import{a as n,E as s}from"./element-plus-b263d37b.js";import{r as o}from"./@vue-2b4cd1a6.js";const g=()=>{const r=o(),t=o();async function u(){r.value=await a.request({url:"user"})}return{collection:r,findAll:u,findOne:async e=>{t.value=await a.request({url:`user/${e}`})},model:t,update:async e=>{t.value=await a.request({url:"user/update",method:"Put",data:e}),l().getCurrentUser(),n({type:"success",message:"更新成功",grouping:!0})},updatePassword:async e=>{t.value=await a.request({url:"user/password",method:"PUT",data:e})},updateEmail:async e=>{await a.request({url:"user/email",method:"PUT",data:e})},updateMobile:async e=>{await a.request({url:"user/mobile",method:"PUT",data:e})},getUserInfo:async e=>{t.value=await a.request({url:`user/info/${e}`})},deleteUser:async()=>{await a.request({url:"user/delete",method:"DELETE"}),location.href="/"},removeAvatar:async e=>{await s.confirm("确定删除吗？"),await a.request({url:`user/remove_avatar/${e}`,method:"DELETE"}),location.reload()},lockUser:async e=>{await s.confirm("确定锁定吗？"),await a.request({url:`user/lock_user/${e}`,method:"POST"}),location.reload()},removeAllData:async e=>{await s.confirm("确定所有数据吗？"),await a.request({url:`user/removeAllData/${e}`,method:"POST"}),location.reload()}}};export{g as u};
